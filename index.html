<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Thumbs Down</title>
<style>
body {
margin: 0;
font-family: system-ui, sans-serif;
background: #111;
color: #eee;
}
.screen { display: none; padding: 1rem; }
.active { display: block; }
.names-grid {
display: grid;
grid-template-columns: 1fr;
gap: 0.5rem;
}
input {
width: 100%;
padding: 0.5rem;
border-radius: 4px;
border: 1px solid #444;
background: #222;
color: #eee;
}
.btn {
display: inline-block;
padding: 0.5rem 1rem;
border-radius: 4px;
margin-top: 1rem;
cursor: pointer;
border: none;
}
.btn.primary { background: #0a84ff; color: white; }
.btn.ghost { background: transparent; border: 1px solid #555; color: #ccc; }
.row { display: flex; gap: 1rem; }
.thumb {
font-size: 2rem;
cursor: pointer;
display: inline-block;
transition: transform 0.2s;
}
.thumb.locked { cursor: not-allowed; }
.thumb.wobble { animation: wobble 0.5s; }
@keyframes wobble {
0% { transform: rotate(0deg); }
25% { transform: rotate(-10deg); }
50% { transform: rotate(10deg); }
75% { transform: rotate(-10deg); }
100% { transform: rotate(0deg); }
}
.toast {
position: fixed;
bottom: 1rem;
left: 50%;
transform: translateX(-50%);
background: rgba(0,0,0,0.8);
color: #fff;
padding: 0.75rem 1rem;
border-radius: 6px;
display: none;
}
.toast.show { display: block; }
</style>
</head>
<body>
<!-- Host Setup Screen -->
<form id="hostForm" novalidate autocomplete="off">
<div id="host-setup" class="screen active">
<div class="hint">Add up to 10 friends</div>
<div class="names-grid" id="nameInputs"></div>
<div class="row">
<button class="btn ghost small" id="resetBtn" type="button" aria-label="Reset">Reset</button>
<button class="btn primary small" id="confirmBtn" type="button" aria-label="Confirm">Confirm</button>
</div>
</div>
</form>

<!-- Game Screen -->
<div id="game" class="screen">
<div id="playerList"></div>
<div id="thumbArea"></div>
</div>

<!-- Toast -->
<div id="toast" class="toast"></div>

<script>
const showToast = (msg) => {
const t = document.getElementById("toast");
t.textContent = msg;
t.classList.add("show");
setTimeout(() => t.classList.remove("show"), 2000);
};

// Disable any form submission/validation
document.addEventListener('DOMContentLoaded', () => {
const f = document.getElementById('hostForm');
if (f) f.addEventListener('submit', (e) => e.preventDefault(), { passive:false });
});

// Build name inputs
const nameInputs = document.getElementById("nameInputs");
for (let i = 1; i <= 10; i++) {
const inp = document.createElement("input");
inp.type = "text";
inp.placeholder = `Name ${i}`;
inp.id = `name${i}`;
nameInputs.appendChild(inp);
}

// Reset
document.getElementById("resetBtn").onclick = () => {
[...nameInputs.querySelectorAll("input")].forEach(inp => inp.value = "");
};

// Confirm -> move to game
document.getElementById("confirmBtn").onclick = async () => {
const names = [...nameInputs.querySelectorAll("input")]
.map(i => i.value.trim())
.filter(v => v);

if (names.length < 2) {
showToast("Enter at least 2 names");
return;
}

document.getElementById("host-setup").classList.remove("active");
document.getElementById("game").classList.add("active");

const list = document.getElementById("playerList");
list.innerHTML = "";
names.forEach(n => {
const div = document.createElement("div");
div.textContent = n;
list.appendChild(div);
});

const thumbArea = document.getElementById("thumbArea");
thumbArea.innerHTML = "";
names.forEach(n => {
const span = document.createElement("span");
span.textContent = "ðŸ‘Ž";
span.className = "thumb";
span.dataset.player = n;
thumbArea.appendChild(span);
});

setupThumbs();
};

function setupThumbs() {
const thumbs = document.querySelectorAll(".thumb");
thumbs.forEach(t => {
t.onclick = () => {
if (t.classList.contains("locked")) {
t.classList.add("wobble");
setTimeout(() => t.classList.remove("wobble"), 500);
return;
}
// First tap = amber
if (!t.dataset.stage) {
t.style.color = "orange";
t.dataset.stage = "amber";
showToast(`${t.dataset.player} tapped`);
}
// Second tap = green + lock
else if (t.dataset.stage === "amber") {
t.style.color = "lime";
t.dataset.stage = "green";
t.classList.add("locked");
showToast(`${t.dataset.player} confirmed`);
}
};
});
}
</script>
</body>
</html>
